---
layout: tminterface-docs
title: TMInterface Guide
---

## Variables
* `speed`  - Controls the speed of the race. You can use a float value to set the speed to a lower value than 1. Setting the speed to very high values like `100` may result in skipping inputs by the game which can cause desyncs. This is not because TMInterface cannot apply inputs at this speed, but because the game will intentionally stop reading input state at each tick. By default this is `1`.

* `replay_speed` - Controls the speed of the game while replaying inputs loaded with a `replay` command. The speed will be automatically managed when using the `replay` command to allow for quick run resetting & attempts. The speed will be applied at the beginning of the run and reset 1 second before the specified time used in the `replay` command. If no time specified, the speed will not be reset. By default this is `1`.

* `countdown_speed` - Controls the speed of the countdown phase. The speed will be automatically applied only for the countdown, simulating a faster countdown seen in TM2020. Note that this is not modifying the internal countdown time offset and only setting the global speed. The former is possible but not desired, since it affects the physics in some cases. By default this is `5`.

* `script_folder` - The absolute path to the script folder in which all of your scripts are stored. By default this is `C:\Users\username\Documents\TMInterface\Scripts`.

* `execute_commands` - Whether or not TMInterface should inject inputs that are currently loaded with `load` or `replay`. By default this is `true`. Set to `false` to disable input replaying.

* `log_simulation` - Prints information in the console about the simulation / race events. These events include: 
    - Beginning a new simulation
    - Ending a simulation
    - Passing through a checkpoint
    - Beginning a new lap
    - Finishing the race
    - Message signaling that the run was driven with TMInterface
    
<br>
* `log_bot` - Prints inputs in the console as they are being applied by the bot. By default this is `false`.

* `draw_game` - Disables or enables drawing of the game. Setting this to `false` will not disable drawing of widgets provided by TMInterface or the console itself. By default this is `true`.

* `use_valseed` - When set to `true`, enables an internal feature ingame that randomizes start state of the car, given a seed. The seed is generated by TMInterface itself, but the randomization happens in the native game code. This invalidates every run, and makes the game physics random. By default this is `false`.

* `skip_map_load_screens` - Skips map load screens including "Press any key to continue" in the load screen and choose opponents screen. By default this is `false`.

* `cmd_base_time` - The base time of all timed commands. This variable can be used to offset a group of commands in a script file, without changing timestamp of each command. The injection time is calcuated as `current_race_time + cmd_base_time`. This value is always reset to `0` at the beggining of the race, to prevent its side effects across loading other scripts. Setting this variable at time `0` is valid and will work.

* `cmd_steer_invert` - Inverts the steering axis for all `steer` and `press` commands that steer the car. Setting this to `true` will result in all `steer` commands having a flipped sign, all `press left` commands steering right and all `press right` commands steering left. This value is always reset to `false` at the beggining of the race, to prevent its side effects across loading other scripts. Setting this variable at time `0` is valid and will work.

* `cmd_steer_offset` - Adds a fixed offset to every applied analog steer value. This is useful when wanting to change the strenghtness of multiple steer values at once in a script. Be aware that if the resulting value overflows the range `[-65536,65536]`, TMInterface will clamp it down. This clamping will be only performed when the original value was previously in the range. The formula for calculating the value is as follows: `floor (value * cmd_steer_multiplier + cmd_steer_offset)` This value is always reset to `0` at the beggining of the race, to prevent its side effects across loading other scripts. Setting this variable at time `0` is valid and will work.

* `cmd_steer_multiplier` - Multiplies by a fixed amount every applied analog steer value. This is useful when wanting to change the strenghtness of multiple steer values at once in a script. This value is always reset to `0` at the beggining of the race, to prevent its side effects across loading other scripts. Setting this variable at time `0` is valid and will work.

* `sim_priority` - Specifies what process priority should be used for the game process when a simulation is playing out. The following values are available:
    - `none` - normal priority
    - `high` - high priority
    - `realtime` - realtime priority

    By default this is `none`.

* `sim_debug` - Enables a debug mode for simulations in which the game runs all game-related systems, such as input, graphics and sound. In this mode TMInterface will
enable the game camera and perform modifications in the game scene to make it able to view the simulation play-out live. Note that in debug mode, the simulation will take longer time because of additional overhead. You can modify the simulation speed by setting `sim_speed`.

* `sim_speed` - Modifies the simulation speed in debug mode. This is not the same as the `speed` variable, which controls the speed of the entire game. By default, this is equal to `5` which is also what the game uses for simulation by default. This variable does not affect anything when `sim_debug` is `false`.

* `sim_show_valid_window` - If set to `false`, TMInterface will hide the "Validating" message window while simulating the race. `true` by default.

* `extended_steer` - If set to `true`, enables the extended steering range of `[-6553600, 6553600]`. Note that this range is not physically possible, therefore this variable is by default set to `false`.

* `start_time` - The countdown duration in milliseconds. Note that this is not the *speed* of the countdown but rather its actual duration. Note that changing the start time may invalidate the physics of the race. By default this is `-1`, which means disabled.

* `random_seed` - Unfinished.
* `background` - Draws a solid background behind all the widgets, while covering the entire game's screen with a single color. Useful when wanting to key out certain elements like the input viewer. To set a new color, provide a hex value like `#FF0000` which is red: `set background #FF0000`.
* `viz_type` - the vizualization style in which the input widget shows inputs. This can be one of the following:
    - `standard` - the standard input viewer
    - `joystick` - a circular joystick vizualization, used exclusively for analog inputs

* `controller` - The controller that will be executed at simulation time. This can be:
    - `bruteforce` - The bruteforce script. To bruteforce a replay, choose the replay you want to bruteforce, click Launch and then Validate. TMInterface will automatically open a standard output console alongside the game's window when bruteforcing, to print all relevant information and inputs if a better time is found. The script may be stopped at any point by pressing the Escape key on the keyboard (the console window has to be focused).

        The bruteforce controller can work for different targets. The default target is the finish time. Other available targets are checkpoint time and trigger. See `bf_target_cp` and `bf_target_trigger`. 

        If `bf_target_cp` is `-1`, `bf_target_trigger` is checked, if `bf_target_trigger` is `-1`, then finish time is chosen.
    - `none` - No controller.

* `bf_print_cps` - Whether or not to print information about passed checkpoints when bruteforcing a replay.

* `bf_inputs_extend_steer` - Whether or not to increase the amount of inputs that can be modified by filling ticks without a steer command with previous steer values on the replay timeline.

* `bf_modify_prob` - The probability that a steer input may get modified. This probability is used for each and every input that exists in the replay. By default this is `0.002` which is 0.2%.

* `bf_max_steer_diff` - The maximum difference that a steer value may be changed by in either direction. If the resulting steer falls out of the normal range, it's limited to the normal range of `[-65536, 65536]`. If the original value was already in the extended range, it is limited to the extended range of `[-6553600, 6553600]`. By default this is `10000`. Setting this value can also affect `press left/right` input. For example `2000-3000 press left` with `bf_max_steer_diff` set to `10000` may get transformed to:
```
2000 steer -58567
3000 steer 0
```

* `bf_max_time_diff` - The maximum difference that the time of an input may be changed in either direction. This difference applies to all commands and not only steer commands. By default this is `0`, which means disabled.

* `bf_override_stop_time` - If set, overrides the finish time of the original replay. This variable is useful when trying to achieve a time below a specified time. By default this is `-1`, which means disabled. This variable also works for checkpoints and triggers.

* `bf_inputs_min_time` - If set, specifies the minimum time for an input to qualify to be changed. By default this is `-1` which means disabled.

* `bf_inputs_max_time` - If set, specifies the maximum time for an input to qualify to be changed. By default this is `-1` which means disabled.

* `bf_search_forever` - If set to `true`, after finding a better time, the script will set the new inputs as original inputs and begin to search for a lower time than the previous one. The inputs will always be printed immediately after finding a faster time. By default this is `false`, which means the script will stop when a new time is found.

* `bf_target_cp` - the target checkpoint index to optimise for. Note that checkpoints are ordered in the way the bruteforced replay passed them. The first checkpoint has an index of `1`, second - `2` and so on. By default this is `-1`.

* `bf_target_trigger` - the target custom trigger index to optimise for. A possible target trigger does not need to be passed by the bruteforced replay. The first trigger has an index of `1`, second - `2` and so on. By default this is `-1`.